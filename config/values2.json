{
  "environment": "TEST",
  "apiVersion": "machinelearning.seldon.io/v1alpha2",
  "deploymentName": "mlflow-deployment",
  "namespace": "default",
  "subjectArea": "seldon-test-project",
  "chart": {
    "name": "test-model",
    "version": "0.1.0",
    "description": "Test Seldon deployment chart"
  },
  "metadata": {
    "labels": {
      "provider": "neoflex"
    },
    "annotations": {
      "platform": "dognauts"
    }
  },
  "servers": [
    {
      "name": "sklearn-server",
      "namespace": "ml-prod",
      "labels": {
        "team": "inference",
        "env": "prod"
      },
      "annotations": {
        "owner": "alice@example.com"
      },
      "serverConfig": "sklearn-default",
      "extraCapabilities": [
        "metadata",
        "explain"
      ],
      "capabilities": [
        "predict",
        "metadata"
      ],
      "imageOverrides": {
        "agent": {
          "name": "my-agent",
          "image": "myorg/myagent:latest",
          "env": [
            {
              "name": "AGENT_MODE",
              "value": "sidecar"
            }
          ],
          "resources": {
            "limits": {
              "cpu": "500m",
              "memory": "256Mi"
            },
            "requests": {
              "cpu": "100m",
              "memory": "128Mi"
            }
          },
          "livenessProbe": {
            "httpGet": {
              "path": "/healthz",
              "port": 8080
            },
            "initialDelaySeconds": 5,
            "timeoutSeconds": 2
          }
        },
        "rclone": {
          "name": "my-rclone",
          "image": "rclone/rclone:1.63",
          "args": [
            "sync",
            "remote:bucket",
            "/data"
          ],
          "env": [
            {
              "name": "RCLONE_CONFIG",
              "value": "/etc/rclone/rclone.conf"
            }
          ]
        }
      },
      "podSpec": {
        "serviceAccountName": "sklearn-sa",
        "priorityClassName": "high-priority",
        "nodeSelector": {
          "disktype": "ssd"
        },
        "containers": [
          {
            "name": "main",
            "image": "seldonio/mlserver:1.23.0",
            "ports": [
              {
                "name": "http",
                "containerPort": 8080
              }
            ],
            "env": [
              {
                "name": "MODEL_NAME",
                "value": "iris"
              }
            ],
            "resources": {
              "limits": {
                "cpu": "1",
                "memory": "1Gi"
              },
              "requests": {
                "cpu": "500m",
                "memory": "512Mi"
              }
            }
          }
        ],
        "volumes": [
          {
            "name": "model-data",
            "emptyDir": {
              "medium": "Memory"
            }
          }
        ]
      },
      "statefulSetPersistentVolumeClaimRetentionPolicy": {
        "whenDeleted": "Retain",
        "whenScaled": "Delete"
      },
      "replicas": 2,
      "minReplicas": 1,
      "maxReplicas": 5,
      "disableAutoUpdate": true
    }
  ]
}